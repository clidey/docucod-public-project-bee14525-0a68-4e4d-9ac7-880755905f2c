---
title: "Highlights API"
description: "Integrate highlighting and annotation features into your workflow. This page details how to add, update, delete, and fetch highlights for any link, supporting reading, collaboration, and long-term knowledge preservation."
---

# Highlights API Reference

Integrate the power of highlighting and annotating your saved links to enhance reading, collaboration, and knowledge preservation. This API enables your application or integration to create, update, fetch, and delete highlights associated with any bookmarked link in Linkwarden.

---

## Overview

Highlights allow users to annotate specific parts of a saved web page or link, capturing context and personal insights for future reference or teamwork. Whether you want to mark important text, add comments, or assign colors for quick identification, this API provides endpoints to manage all aspects of highlights.

**Key capabilities:**
- Fetch highlights for a given link
- Create new highlights or update existing ones
- Delete highlights by ID

Use this API to build rich reading experiences, enable collaborative annotation, or provide personalized content review workflows.

---

## Authentication & Authorization

All endpoints under the Highlights API require user authentication. You must include a valid authenticated session or API token to access and modify highlight data.

- **Authentication**: Bearer tokens or session cookies
- **Authorization**: Users can only manipulate highlights associated with links they have access to via collections they own or collaborate on.

Unauthorized requests will receive appropriate status codes (e.g., 401 Unauthorized).

<Check>
Always verify your user permissions before performing actions. Attempting to create or update highlights on inaccessible collections will result in errors.
</Check>

---

## Endpoints

### 1. Fetch Highlights for a Link

Retrieve all highlights made by the authenticated user on a specific link.

```
GET /api/v1/links/{linkId}/highlights
```

- **Path Parameters:**
  - `linkId` (integer, required) – ID of the linked bookmark

- **Response:**
  - `200 OK` with JSON array of highlight objects

- **Example Request:**

```http
GET /api/v1/links/123/highlights HTTP/1.1
Authorization: Bearer your_access_token
Accept: application/json
```

- **Success Response Body:**

```json
[
  {
    "id": 456,
    "linkId": 123,
    "userId": 789,
    "startOffset": 10,
    "endOffset": 50,
    "color": "yellow",
    "text": "Important insight from the article",
    "comment": "Need to review this section later",
    "createdAt": "2024-06-01T12:00:00Z",
    "updatedAt": "2024-06-01T12:30:00Z"
  },
  ...
]
```

---

### 2. Create or Update a Highlight

Add a new highlight or update an existing one on a link. If a highlight with the same offsets exists, it updates color and comment.

```
POST /api/v1/highlights
```

- **Request Body:** JSON object with:

| Field        | Type    | Required | Description                                           |
|--------------|---------|----------|-------------------------------------------------------|
| `linkId`     | integer | Yes      | Link to which the highlight belongs                   |
| `startOffset`| integer | Yes      | Character offset in link content where highlight starts |
| `endOffset`  | integer | Yes      | Character offset where highlight ends                  |
| `color`      | string  | Yes      | Highlight color code/string (e.g., 'yellow', '#ff0') |
| `text`       | string  | Yes      | Exact text highlighted                                |
| `comment`    | string  | No       | User comment or annotation related to the highlight  |

- **Behavior:**
  - Validates collection access
  - Creates new highlight or updates existing one matching `linkId`, `startOffset`, and `endOffset` for the user

- **Success Response:**
  - `200 OK` with full highlight object

- **Example Request:**

```http
POST /api/v1/highlights HTTP/1.1
Authorization: Bearer your_access_token
Content-Type: application/json

{
  "linkId": 123,
  "startOffset": 10,
  "endOffset": 50,
  "color": "yellow",
  "text": "Important insight from the article",
  "comment": "Review this for the report"
}
```

- **Success Response Body:**

```json
{
  "id": 456,
  "linkId": 123,
  "userId": 789,
  "startOffset": 10,
  "endOffset": 50,
  "color": "yellow",
  "text": "Important insight from the article",
  "comment": "Review this for the report",
  "createdAt": "2024-06-01T12:00:00Z",
  "updatedAt": "2024-06-01T12:30:00Z"
}
```

- **Error Cases:**
  - `400 Bad Request` if required fields are missing or collection is inaccessible

<Warning>
Creating or updating highlights requires edit permission to the link's collection. Read-only access will cause failures.
</Warning>

---

### 3. Delete a Highlight

Remove a highlight by its unique ID.

```
DELETE /api/v1/highlights/{highlightId}
```

- **Path Parameters:**
  - `highlightId` (integer, required) – ID of the highlight to delete

- **Response:**
  - `200 OK` with deleted highlight ID
  - `401 Unauthorized` if user does not own the highlight

- **Example Request:**

```http
DELETE /api/v1/highlights/456 HTTP/1.1
Authorization: Bearer your_access_token
```

- **Success Response Body:**

```json
456
```

---

## Data Model: Highlight Object

| Field        | Type     | Description                                                        |
|--------------|----------|--------------------------------------------------------------------|
| `id`         | integer  | Unique identifier of the highlight                                 |
| `linkId`     | integer  | Identifier of the associated link/bookmark                        |
| `userId`     | integer  | User who created the highlight                                    |
| `startOffset`| integer  | Start character offset of the highlight in link content           |
| `endOffset`  | integer  | End character offset                                              |
| `color`      | string   | Highlight color or tag                                            |
| `text`       | string   | Original selected text content highlighted                        |
| `comment`    | string   | Optional annotation or comment                                   |
| `createdAt`  | datetime | Timestamp when highlight was created                              |
| `updatedAt`  | datetime | Timestamp when highlight was last updated                        |

---

## Practical Usage & Tips

- **Ensure cursor accuracy:** Offsets (`startOffset`, `endOffset`) must correctly map to the text content for proper highlight rendering.
- **Bulk fetching** highlights for a link is efficient to display all user annotations at once.
- **Colors and comments** help visually categorize and add context to highlights.
- When building user interfaces, optimistically update highlight lists via client state management to reflect changes immediately.

---

## Troubleshooting

<AccordionGroup title="Common Issues and Resolutions">
<Accordion title="Authentication errors">
Make sure you include a valid authentication token or session cookie. Unauthorized errors mean either missing or expired credentials.
</Accordion>
<Accordion title="Access denied when creating or updating highlights">
Verify that the user has update permission on the collection containing the link. Highlights cannot be added to collections where the user has read-only access.
</Accordion>
<Accordion title="Invalid or missing highlight data">
Check your request body matches the required schema. Highlight offsets and linkId must be integers, and color/text must be non-empty strings.
</Accordion>
<Accordion title="Highlight deletion fails">
Only the user who created a highlight can delete it. Confirm the highlight ID is correct and belongs to the authenticated user.
</Accordion>
</AccordionGroup>

---

## Code Examples

<CodeGroup>
```javascript
// Fetch highlights for a link
fetch('/api/v1/links/123/highlights', {
  headers: { Authorization: 'Bearer your_token' }
})
  .then(res => res.json())
  .then(highlights => console.log(highlights));

// Create a new highlight
fetch('/api/v1/highlights', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your_token',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    linkId: 123,
    startOffset: 10,
    endOffset: 50,
    color: 'yellow',
    text: 'Important section',
    comment: 'Review later'
  })
})
  .then(res => res.json())
  .then(data => console.log(data));

// Delete a highlight
fetch('/api/v1/highlights/456', {
  method: 'DELETE',
  headers: { Authorization: 'Bearer your_token' }
})
  .then(res => res.json())
  .then(data => console.log('Deleted highlight id:', data));
```
```python
import requests
headers = {'Authorization': 'Bearer your_token'}

# Fetch highlights
response = requests.get('https://your-linkwarden-instance/api/v1/links/123/highlights', headers=headers)
print(response.json())

# Create or update highlight
payload = {
  "linkId": 123,
  "startOffset": 10,
  "endOffset": 50,
  "color": "yellow",
  "text": "Important section",
  "comment": "Review later"
}
response = requests.post('https://your-linkwarden-instance/api/v1/highlights', json=payload, headers=headers)
print(response.json())

# Delete highlight
response = requests.delete('https://your-linkwarden-instance/api/v1/highlights/456', headers=headers)
print('Deleted highlight id:', response.json())
```
</CodeGroup>

---

## Next Steps

- Explore Linkwarden's [Reading and Highlighting Content guide](/guides/core-user-workflows/reading-highlighting) to understand user workflows.
- Integrate with the [Links API](/api-reference/core-workflows/bookmarks-links-api) to combine bookmarking and highlighting.
- Review [Authentication & Authorization API](/api-reference/core-workflows/authentication-authorization) for securing your integrations.
- For collaborative scenarios, consult [User Management and Permissions](/guides/collaboration-sharing/user-management-permissions).

---

## Related Documentation

- [Saving and Organizing Links](/guides/core-user-workflows/saving-links)
- [Creating and Managing Collaborative Collections](/guides/collaboration-sharing/creating-collaborative-collections)
- [API Token Creation and Usage](/guides/advanced-usage-integrations/api-automation)


---

## Visual Flow of Highlight Management

```mermaid
flowchart TD
  Client["Client or Integration"] -->|GET /api/v1/links/{linkId}/highlights| FetchHighlights["Fetch Highlights Endpoint"]
  Client -->|POST /api/v1/highlights| CreateOrUpdate["Create or Update Highlight Endpoint"]
  Client -->|DELETE /api/v1/highlights/{highlightId}| DeleteHighlight["Delete Highlight Endpoint"]

  FetchHighlights --> DB[("Highlights Database")]
  CreateOrUpdate --> DB
  DeleteHighlight --> DB

  DB --> FetchHighlights
  DB --> CreateOrUpdate
  DB --> DeleteHighlight

  subgraph Auth
    VerifyAuth["Verify Auth & Permissions"]
  end

  FetchHighlights --> VerifyAuth
  CreateOrUpdate --> VerifyAuth
  DeleteHighlight --> VerifyAuth

  VerifyAuth --> FetchHighlights
  VerifyAuth --> CreateOrUpdate
  VerifyAuth --> DeleteHighlight
```

This diagram illustrates the interaction between client requests, permission verification, and database operations forming the highlight lifecycle.

---

For more detailed developer information or to view source code, visit the [Linkwarden GitHub repository](https://github.com/linkwarden/linkwarden).


---

<Document Metadata>
Page: Highlights API
Description: Integrate highlighting and annotation features into your workflow. This page details how to add, update, delete, and fetch highlights for any link, supporting reading, collaboration, and long-term knowledge preservation.
</Document Metadata>
