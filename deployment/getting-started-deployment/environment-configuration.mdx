---
title: "Environment Configuration"
description: "A curated guide to essential and optional environment variables—detailing supported settings for database connections, file storage, authentication, and production hardening. Learn how to use `.env.sample`, adapt configurations for different environments, and apply them securely."
---

# Environment Configuration Guide

Welcome to the Environment Configuration guide for Linkwarden. This document is your essential companion for properly configuring Linkwarden’s backend environment through environment variables. Here, you'll find clear explanations and practical tips for setting up core and optional settings related to databases, file storage, authentication, and production hardening.

Whether you’re deploying in development, staging, or production, understanding and correctly applying these environment variables will ensure a smooth, secure, and scalable Linkwarden deployment.

---

## 1. Overview of Environment Variables

Linkwarden uses environment variables primarily through a `.env` file to configure runtime options securely and flexibly. These variables control aspects such as database connections, API keys, storage backends, feature flags, and operational parameters.

The `env.sample` file bundled with Linkwarden illustrates all supported settings with default values and comments. Use this as your starting template, then adjust according to your infrastructure and security policies.

<Tip>
Always keep sensitive values like secrets and API keys out of version control. Use your deployment platform’s secrets management or environment settings to inject these securely.
</Tip>

---

## 2. Core Environment Settings

### 2.1 Database Connection

Linkwarden requires a robust database connection to store and retrieve bookmark, user, and configuration data reliably.

- **`DATABASE_URL`**: The primary connection string to your PostgreSQL database.
  - Format: `postgresql://username:password@host:port/database`
  - Must ensure the connection user has necessary permissions to create tables and indexes.

### 2.2 File Storage Settings

Linkwarden supports different approaches for storing archived files, screenshots, and PDFs. Choose based on your deployment environment, scale, and backup strategy.

- **`STORAGE_PROVIDER`**: Defines the storage backend.
  - `local` (default) for on-disk storage.
  - `s3` for Amazon S3-compatible cloud storage.

- **`STORAGE_PATH`** (for `local`): Filesystem path where archives will be saved.
  - Ensure the service user has read/write access.

- **`S3_BUCKET`**: Name of the S3 bucket when using S3.
- **`S3_REGION`**, **`S3_ACCESS_KEY_ID`**, **`S3_SECRET_ACCESS_KEY`**: Credentials and region for S3 access.

### 2.3 Authentication Secrets

Secure your application’s session and authentication flows with strong secret keys.

- **`SESSION_SECRET`**: Cryptographic secret for session signing.
  - Use a securely generated random string.

- **`JWT_SECRET`**: If JWTs are used, this secret secures token signatures.

<Tip>
Rotate any secrets periodically and revoke old secrets carefully to avoid token invalidation during active sessions.
</Tip>

### 2.4 Optional AI and Archival Features

Linkwarden supports AI-driven tagging and archival enhancements when properly configured.

- **`OPENAI_API_KEY`**, **`AZURE_API_KEY`**, **`ANTHROPIC_API_KEY`**, **`OLLAMA_ENDPOINT_URL`**: Enable AI providers for automatic tag suggestions and enrichment.

- **`ENABLE_SCREENSHOTS`**: Set to `true` to enable website screenshot archival.

- **`ENABLE_PDF_ARCHIVES`**: Set to `true` to generate PDF snapshots alongside standard archives.

### 2.5 Internationalization

- **`DEFAULT_LOCALE`**: Set default application language and regional settings (e.g., `en-US`).

---

## 3. Using the `.env.sample` File

1. **Locate `.env.sample`** in your source code root.
2. **Copy it to `.env`** in the same directory.
3. **Edit `.env`** with your specific values, ensuring:
   - Database URL points to your database instance.
   - Secrets are replaced with generated random values.
   - Storage configuration matches your infrastructure.
4. **Secure `.env`** by excluding it from public repositories and setting appropriate filesystem permissions.

<Note>
If deploying using containerized environments or cloud platforms, inject these variables through platform-specific environment configuration tools rather than relying on `.env` files.
</Note>

---

## 4. Environment Variable Categories & Examples

| Variable               | Description                              | Example/Notes                   |
|------------------------|------------------------------------------|--------------------------------|
| `DATABASE_URL`         | PostgreSQL connection string            | `postgresql://user:pass@db:5432/linkwarden` |
| `STORAGE_PROVIDER`     | Storage backend: `local` or `s3`         | `local`                        |
| `STORAGE_PATH`         | Local filesystem path for archives       | `/var/linkwarden/storage`      |
| `S3_BUCKET`            | S3 bucket name for archive storage       | `linkwarden-archives`          |
| `S3_REGION`            | AWS S3 region                            | `us-east-1`                    |
| `S3_ACCESS_KEY_ID`     | AWS S3 API access key                     | `AKIAXXXXXXXX`                 |
| `S3_SECRET_ACCESS_KEY` | AWS S3 API secret key                      | `abcd1234efgh5678`             |
| `SESSION_SECRET`       | Secret key for session signing            | `random64charssecretstring`    |
| `JWT_SECRET`           | Secret for JWT tokens                      | `anothersecurekeystring`       |
| `OPENAI_API_KEY`       | OpenAI API key for AI features             | `sk-xxxxxxxxxxxxxxxxxxxxxxxx` |
| `ENABLE_SCREENSHOTS`   | Enable screenshot archival (`true`/`false`)| `true`                        |
| `ENABLE_PDF_ARCHIVES`  | Enable PDF archival (`true`/`false`)       | `false`                       |
| `DEFAULT_LOCALE`       | Default UI language and regional setting  | `en-US`                        |

---

## 5. Adapting Environment Settings for Different Environments

- **Development**: Use lightweight local databases and storage.
- **Staging**: Mirror production services but use test credentials and isolated data.
- **Production**:
  - Use fully hardened database instances.
  - Enable necessary archival features suited for scale.
  - Implement secrets management services to inject credentials securely.

Configure environment variables accordingly and verify connectivity and permissions prior to launch.

---

## 6. Production Hardening and Security Considerations

- Avoid exposing any secrets in logs or error messages.
- Use encrypted storage and secure vaults for managing secrets.
- Configure environment variables through your orchestration or vault systems rather than static files when possible.
- Limit permissions for database users following the principle of least privilege.
- Use network restrictions and firewall rules to protect backend services.

<Tip>
Regularly audit your environment variables and rotate secrets as part of your security routine.
</Tip>

---

## 7. Troubleshooting Environment Configuration

<AccordionGroup title="Common Configuration Issues and Solutions">
<Accordion title="Database Connection Failures">
Ensure the `DATABASE_URL` is correctly formatted, accessible from the Linkwarden host, and credentials have adequate privileges. Test connectivity using tools like `psql`.
</Accordion>

<Accordion title="Storage Permission Errors">
Verify that the user running Linkwarden has read/write permissions on `STORAGE_PATH`. When using S3, confirm that access keys are valid and have proper bucket permissions.
</Accordion>

<Accordion title="Secrets Missing or Invalid">
Check that all required secrets (`SESSION_SECRET`, `JWT_SECRET`) are set and non-empty. Missing secrets cause authentication failures.
</Accordion>

<Accordion title="AI Features Not Activating">
Confirm that at least one AI provider key (e.g., `OPENAI_API_KEY`) is set. Make sure environment variables are loaded and valid.
</Accordion>

<Accordion title="Feature Flags Not Applying">
Verify boolean flags like `ENABLE_SCREENSHOTS` use exact strings `true` or `false`. Incorrect casing or typos prevent feature activation.
</Accordion>
</AccordionGroup>

---

## 8. Next Steps and Additional Resources

- After completing environment configuration, proceed to [Account Setup and First Login](/getting-started/configuration-initial-setup/account-setup-login) to prepare your application for use.
- For deployment-specific environment guidance and examples, see [Self-Hosted Installation](/getting-started/requirements-installation/self-hosted-installation) and [Choosing Your Deployment](/getting-started/requirements-installation/choosing-your-deployment).
- Consult the [Troubleshooting Common Setup Problems](/getting-started/troubleshooting-faq/common-setup-issues) for deeper diagnostics if you encounter issues during startup or operation.

---

## Appendix: Sample `.env` Snippet

```bash
# Database connection
DATABASE_URL=postgresql://linkwarden_user:securepass@db.example.com:5432/linkwarden_db

# Storage settings
STORAGE_PROVIDER=local
STORAGE_PATH=/data/linkwarden/storage

# Authentication
SESSION_SECRET=aSuperSecretRandomStringOf64Chars
JWT_SECRET=AnotherSecretKeyForJWT

# AI Integration Keys (optional)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# Archival Features
ENABLE_SCREENSHOTS=true
ENABLE_PDF_ARCHIVES=false

# Internationalization
DEFAULT_LOCALE=en-US
```

---